var mysli;!function(mysli){var js;!function(js){var ui;!function(ui){var Arr=function(){function Arr(){this.stack={},this.ids=[]}return Arr.prototype.push=function(id,element){return this.stack[id]=element,this.ids.push(id),this.ids.length-1},Arr.prototype.push_after=function(after_id,id,element){var index_to="string"==typeof after_id?this.get_index(after_id)+1:after_id+1;return this.stack[id]=element,this.ids.splice(index_to,0,id),index_to},Arr.prototype.remove=function(id){var index;"number"==typeof id?(index=id,id=this.ids[id]):index=this.get_index(id),delete this.stack[id],this.ids.splice(index,1)},Arr.prototype.get_index=function(id){if("function"==typeof this.ids.indexOf)return this.ids.indexOf(id);for(var i=this.ids.length-1;i>=0;i--)if(this.ids[i]===id)return i},Arr.prototype.get_index_from=function(id,step){var index=this.get_index(id);return index>0?index+step:-1},Arr.prototype.get=function(id){return"number"==typeof id&&(id=this.ids[id]),"undefined"!=typeof this.stack[id]?this.stack[id]:!1},Arr.prototype.get_from=function(id,step){var index="string"==typeof id?this.get_index_from(id,step):id+step;return index>-1?this.get(this.ids[id]):!1},Arr.prototype.count=function(){return this.ids.length},Arr.prototype.get_last=function(){return this.stack[this.ids[this.ids.length-1]]},Arr.prototype.each=function(callback){for(var r,i=0;i<this.ids.length;i++)if(r=callback(i,this.stack[this.ids[i]]),"undefined"!=typeof r)return r},Arr.prototype.each_after=function(id,callback){for(var r,i=this.get_index(id)+1;i<this.ids.length;i++)if(r=callback(i,this.stack[this.ids[i]]),"undefined"!=typeof r)return r},Arr.prototype.each_before=function(id,callback){for(var r,i=0;i<this.get_index(id);i++)if(r=callback(i,this.stack[this.ids[i]]),"undefined"!=typeof r)return r},Arr}();ui.Arr=Arr}(ui=js.ui||(js.ui={}))}(js=mysli.js||(mysli.js={}))}(mysli||(mysli={}));var mysli;!function(mysli){var js;!function(js){var ui;!function(ui){var Util=function(){function Util(){}return Util.mix=function(defaults,options){return void 0===options&&(options={}),$.extend({},defaults,options)},Util.use=function(options,context,methods){void 0===methods&&(methods={});var arg,call,expect,params,_i,_len;if("object"==typeof options)for(call in methods){if(expect=methods[call],params=[],"string"==typeof expect)params.push(options[expect]);else for(_i=0,_len=expect.length;_len>_i;_i++)arg=expect[_i],params.push(options[arg]);context[call].apply(context,params)}},Util}();ui.Util=Util}(ui=js.ui||(js.ui={}))}(js=mysli.js||(mysli.js={}))}(mysli||(mysli={}));var mysli;!function(mysli){var js;!function(js){var ui;!function(ui){var Widget=function(){function Widget(options){if(void 0===options&&(options={}),this.events_count=0,this.events_count_native=[],this.events={click:{},destroyed:{}},this.prop=ui.Util.mix({disabled:!1,style:"default",flat:!1},options),"undefined"==typeof this.prop.uid)this.prop.uid="mju-id-"+ ++Widget.uid_count;else{if(Widget.uid_list.indexOf(this.prop.uid)>-1)throw new Error("Moduel with such ID is already added: "+this.prop.uid);Widget.uid_list.push(this.prop.uid)}this.$element=$(this.constructor.template),this.$element.prop("id",this.prop.uid),ui.Util.use(this.prop,this,{style:"style",flat:"flat",disabled:"disabled"})}return Widget.prototype.element=function(){return this.$element},Widget.prototype.uid=function(){return this.prop.uid},Widget.prototype.destroy=function(){this.trigger("destroyed"),this.$element.remove()},Widget.prototype.disabled=function(status){return"undefined"!=typeof status&&(this.prop.disabled=status,this.$element.prop("disabled",status)),this.prop.disabled},Widget.prototype.flat=function(value){return"undefined"!=typeof value&&value!==this.prop.flat&&(value?this.$element.addClass("style-flat"):this.$element.removeClass("style-flat"),this.prop.flat=value),this.prop.flat},Widget.prototype.style=function(style){if("undefined"!=typeof style){if(!(this.constructor.allowed_styles.indexOf(style)>-1))throw new Error("Invalid style: `"+style+"`, please use one of the following: "+this.constructor.allowed_styles.join(", "));this.prop.style=style,this.$element.removeClass(this.prop.style),this.$element.addClass("style-"+style)}return this.prop.style},Widget.prototype.connect=function(event,callback){var id,_ref=Widget.event_extract_name(event);if(event=_ref[0],id=_ref[1],"undefined"==typeof this.events[event])throw new Error("No such event available: "+event);return id=""+id+event+"--"+ ++this.events_count,this.events[event][id]=callback,"undefined"!=typeof Widget.events_native[event]&&(this.events_count_native[event]="undefined"==typeof this.events_count_native[event]?0:this.events_count_native[event]+1,1===this.events_count_native[event]&&this.$element.on(event.replace("-",""),this.trigger.bind(this,event))),id},Widget.prototype.trigger=function(event,params){void 0===params&&(params=[]);var call,_results=[];if("undefined"==typeof this.events[event])throw new Error("Invalid event: "+event);if("function"!=typeof params.push)throw new Error("Params needs to be an array!");params.push(this);for(var id in this.events[event])if(this.events[event].hasOwnProperty(id)){if(call=this.events[event][id],"function"!=typeof call)throw new Error("Invalid type of callback: "+id);_results.push(call.apply(this,params))}return _results},Widget.prototype.disconnect=function(id){var event,eid;if("object"!=typeof id&&"*"===id.substr(0,1)){id+="*";for(event in this.events)for(eid in this.events[event])eid.substr(0,id.length)===id&&(this.event_disconnect_native(event),delete this.events[event][eid]);return!0}return"object"!=typeof id?event=id.split("--",2)[0]:(event=id[0],id=id[1]),"undefined"!=typeof this.events[event]?(this.event_disconnect_native(event),delete this.events[event][id]):!1},Widget.prototype.event_disconnect_native=function(event){"undefined"!=typeof Widget.events_native[event]&&(this.events_count_native[event]="undefined"==typeof this.events_count_native[event]?0:this.events_count_native[event]-1,0===this.events_count_native[event]&&this.$element.off(event.replace("-","")))},Widget.event_extract_name=function(event){var id,idr="";return event.indexOf("*")>0&&(id=event.split("*",2),event=id[0],idr="*"+id[1]+"*"),[event,idr]},Widget.events_native=["click","mouse-enter","mouse-leave","mouse-move","mouse-out","mouse-over","mouse-up"],Widget.uid_count=0,Widget.uid_list=[],Widget.template='<div class="ui-widget" />',Widget.allowed_styles=["default","alt","primary","confirm","attention"],Widget}();ui.Widget=Widget}(ui=js.ui||(js.ui={}))}(js=mysli.js||(mysli.js={}))}(mysli||(mysli={}));var mysli;!function(mysli){var js;!function(js){var ui;!function(ui){var Cell=function(){function Cell(parent,$cell){this.prop={},this.parent=parent,this.$cell=$cell,this.prop.visible=!0}return Cell.prototype.animate=function(what,duration,callback){void 0===duration&&(duration=500),void 0===callback&&(callback=!1),this.$cell.animate(what,duration,callback)},Cell.prototype.visible=function(status){return"undefined"!=typeof status&&status!==this.prop.visible&&(this.prop.visible=status,status?this.$cell.show():this.$cell.hide()),this.prop.visible},Cell.prototype.remove=function(){this.$cell.remove()},Cell}();ui.Cell=Cell}(ui=js.ui||(js.ui={}))}(js=mysli.js||(mysli.js={}))}(mysli||(mysli={}));var __extends=this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);__.prototype=b.prototype,d.prototype=new __},mysli;!function(mysli){var js;!function(js){var ui;!function(ui){var Container=function(_super){function Container(options){void 0===options&&(options={}),_super.call(this,options),this.collection=new ui.Arr,this.element().addClass("ui-container"),this.$target=this.element()}return __extends(Container,_super),Container.prototype.push=function(widget,uid){return void 0===uid&&(uid=null),this.insert(widget,-1,uid)},Container.prototype.insert=function(widget,at,uid){void 0===uid&&(uid=null);var at_index,class_id,pushable;if(!(widget instanceof ui.Widget))throw new Error("Instance of widget is required!");if(null===uid&&(uid=widget.uid()),at_index=at>-1?this.collection.push_after(at,uid,widget):this.collection.push(uid,widget),class_id="coll-euid-"+widget.uid()+" coll-uid-"+uid,this.constructor.element_wrapper)if(pushable=$(this.constructor.element_wrapper),pushable.addClass(class_id),pushable.filter(".container-target").length)pushable.filter(".container-target").append(widget.element());else{if(!pushable.find(".container-target").length)throw new Error("Cannot find .container-target!");pushable.find(".container-target").append(widget.element())}else widget.element().addClass(class_id),pushable=widget.element();return at>-1?this.$target.find(".coll-euid-"+this.collection.get_from(at_index,-1).uid()).after(pushable):this.$target.append(pushable),widget},Container.prototype.get=function(uid,cell){return cell&&this.constructor.element_wrapper?(uid=".coll-euid-"+this.collection.get(uid).uid(),new ui.Cell(this,this.$target.find(uid))):this.collection.get(uid)},Container.prototype.remove=function(uid){uid=this.collection.get(uid).uid(),this.collection.remove(uid),this.$target.find(".coll-euid-"+uid).remove()},Container.element_wrapper='<div class="ui-cell container-target" />',Container}(ui.Widget);ui.Container=Container}(ui=js.ui||(js.ui={}))}(js=mysli.js||(mysli.js={}))}(mysli||(mysli={}));var __extends=this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);__.prototype=b.prototype,d.prototype=new __},mysli;!function(mysli){var js;!function(js){var ui;!function(ui){var Box=function(_super){function Box(options){if(void 0===options&&(options={}),_super.call(this,options),this.prop=ui.Util.mix({orientation:"horizontal"},this.prop),this.element().addClass("ui-box"),Box.element_wrapper=ui.Container.element_wrapper,"vertical"===this.prop.orientation){var row=$('<div class="ui-row" />');this.element().append(row),this.$target=row}}return __extends(Box,_super),Box.prototype.get=function(){var result=_super.prototype.get.apply(this,arguments);return result instanceof ui.Cell&&(result.expanded=Box.expanded.bind(result)),result},Box.prototype.insert=function(){return Box.element_wrapper="horizontal"===this.prop.orientation?'<div class="ui-row"><div class="ui-cell container-target" /></div>':this.element_wrapper_original,_super.prototype.insert.apply(this,arguments)},Box.expanded=function(status){return"undefined"!=typeof status&&this.$cell[status?"addClass":"removeClass"]("cell-expanded"),this.$cell.hasClass("cell-expanded")},Box}(ui.Container);ui.Box=Box}(ui=js.ui||(js.ui={}))}(js=mysli.js||(mysli.js={}))}(mysli||(mysli={}));var __extends=this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);__.prototype=b.prototype,d.prototype=new __},mysli;!function(mysli){var js;!function(js){var ui;!function(ui){var Button=function(_super){function Button(options){void 0===options&&(options={}),_super.call(this,options),this.prop=ui.Util.mix({label:null,icon:{name:null,position:"left",spin:!1}},this.prop),ui.Util.use(this.prop,this,{label:"label",icon:"icon",style:"style",flat:"flat",disabled:"disabled"})}return __extends(Button,_super),Button.prototype.label=function(value){var method,$label=this.element().find("span.label");if("undefined"!=typeof value){if(null===value)return $label.remove(),"";$label.length||($label=$('<span class="label" />'),method="right"===this.prop.icon.position?"prepend":"append",this.element()[method]($label)),$label.text(value)}return $label.text()},Button.prototype.icon=function(icon){var $icon,method,spin;if("undefined"!=typeof icon){if($icon=this.element().find("i.fa"),$icon.remove(),null===icon||null===icon.name)return this.prop.icon.name=null,this.prop.icon;"string"==typeof icon?this.prop.icon.name=icon:this.prop.icon=ui.Util.mix(this.prop.icon,icon),method="right"===this.prop.icon.position?"append":"prepend",spin=this.prop.icon.spin?" fa-spin":"",this.element()[method]($('<i class="fa fa-'+this.prop.icon.name+spin+'" />'))}return this.prop.icon},Button.template='<button class="ui-widget ui-button" />',Button}(ui.Widget);ui.Button=Button}(ui=js.ui||(js.ui={}))}(js=mysli.js||(mysli.js={}))}(mysli||(mysli={}));