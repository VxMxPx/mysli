mysli="object"==typeof mysli?mysli:{},mysli.web="object"==typeof mysli.web?mysli.web:{},mysli.web.ui="object"==typeof mysli.web.ui?mysli.web.ui:{},mysli.web.ui.mixins="object"==typeof mysli.web.ui.mixins?mysli.web.ui.mixins:{},mysli="object"==typeof mysli?mysli:{},mysli.web="object"==typeof mysli.web?mysli.web:{},mysli.web.ui="object"==typeof mysli.web.ui?mysli.web.ui:{},mysli.web.ui.mixins="object"==typeof mysli.web.ui.mixins?mysli.web.ui.mixins:{},mysli.web.ui.mixins.event=function(){function trigger(event,params){if("undefined"==typeof this.events[event])throw new Error("Invalid event id: `"+event+"`");"object"!=typeof params&&(params=[]),params.unshift(this);var call,id=null;for(id in this.events[event])if(this.events[event].hasOwnProperty(id)){if(call=this.events[event][id],"function"!=typeof call)throw new Error("Invalid type of callback: `"+id+"`");call.apply(this,params)}}function connect(event,callback){var id="";if(event.indexOf("*")>0&&(id=event.split("*",2),id="*"+id[1]+"*",event=id[0]),"undefined"==typeof this.events[event])throw new Error("No such event available: `"+event+"`");return this.events_counter++,id=id+event+"--"+this.events_counter,this.events[event][id]=callback,id}function disconnect(id){var event=null;if("*"===id.substr(0,1)){id+="*";for(event in this.events)for(var eid in this.events[event])eid.substr(0,id.length)===id&&delete this.events[event][eid];return!0}return event=id.split("--",2)[0],"undefined"!=typeof this.events[event]?delete this.events[event][id]:!1}return function(){return this.events_counter=0,this.events={},this.trigger=trigger,this.connect=connect,this.disconnect=disconnect,this}}(),mysli.web.ui.mixins.event=function(){function trigger(event,params){if("undefined"==typeof this.events[event])throw new Error("Invalid event id: `"+event+"`");"object"!=typeof params&&(params=[]),params.unshift(this);var call,id=null;for(id in this.events[event])if(this.events[event].hasOwnProperty(id)){if(call=this.events[event][id],"function"!=typeof call)throw new Error("Invalid type of callback: `"+id+"`");call.apply(this,params)}}function connect(event,callback){var id="";if(event.indexOf("*")>0&&(id=event.split("*",2),id="*"+id[1]+"*",event=id[0]),"undefined"==typeof this.events[event])throw new Error("No such event available: `"+event+"`");return this.events_counter++,id=id+event+"--"+this.events_counter,this.events[event][id]=callback,id}function disconnect(id){var event=null;if("*"===id.substr(0,1)){id+="*";for(event in this.events)for(var eid in this.events[event])eid.substr(0,id.length)===id&&delete this.events[event][eid];return!0}return event=id.split("--",2)[0],"undefined"!=typeof this.events[event]?delete this.events[event][id]:!1}return function(){return this.events_counter=0,this.events={},this.trigger=trigger,this.connect=connect,this.disconnect=disconnect,this}}(),mysli.web.ui.mixins.widget=function(){function set_busy(state){if(state===!0){if(this.busy)return;this.trigger("busy-change",[state]),this.busy=new ui.overlay,this.busy.set_position(this.get_position()),this.busy.set_dimension(this.get_dimension()),this.connect("destroy*self.overlay",this.busy.destroy.bind(this.busy)),this.connect("position-change*self.overlay",function(__,position){this.busy.set_position(position)}),this.connect("size-change*self.overlay",function(__,size){this.busy.set_size(size)}),this.busy.show()}else this.disconnect("*self.overlay"),this.trigger("busy-change",[state]),this.busy=this.busy.destroy()}function get_busy(){return this.busy}function set_position(position){var element=this.elements[0];this.trigger("position-change",[position,!!element]),element&&element.offset(position)}function get_position(){return"object"==typeof this.elements[0]?this.elements[0].offset():void 0}function set_size(size){var element=this.elements[0];this.trigger("size-change",[size,!!element]),element&&(size.width&&element.css("width",size.width),size.height&&element.css("height",size.height))}function get_size(){var element=this.elements[0];return element?{width:element.outerWidth(),height:element.outerHeight()}:void 0}function destroy(){this.trigger("destroy");for(var event in this.events)this.events[event]={};for(var i=this.elements.length-1;i>=0;i--)this.elements[i].remove();return!1}var ui=mysli.web.ui;return function(){return mysli.web.ui.mixins.event.call(this),this.events={"busy-change":{},"position-change":{},"size-change":{},destroy:{}},this.elements=[],this.busy=!1,this.set_busy=set_busy,this.get_busy=get_busy,this.set_position=set_position,this.get_position=get_position,this.set_size=set_size,this.get_size=get_size,this.destroy=destroy,this}}(),mysli.web.ui.mixins.button=function(){return function(){return mysli.web.ui.mixins.widget.call(this),this}}(),mysli.web.ui.mixins.button=function(){return function(){return mysli.web.ui.mixins.widget.call(this),this}}(),mysli.web.ui.button=function(){"use strict";var self=function(){};return mysli.web.ui.mixins.widget.call(self.prototype),self}(),mysli.web.ui.button=function(){"use strict";var self=function(){};return mysli.web.ui.mixins.widget.call(self.prototype),self}();